# Ephemos Bazel Configuration

# Disable bzlmod for now due to network connectivity issues
common --noenable_bzlmod

# Build optimizations
build --incompatible_enable_cc_toolchain_resolution
build --copt=-g0
build --strip=always

# Go-specific configurations
build --@io_bazel_rules_go//go/config:race=off

# Test configurations
test --test_output=errors
test --test_summary=terse

# Remote cache and execution settings (disabled for security)
# build --remote_cache=

# Java-related settings for compatibility
build --java_language_version=17
build --java_runtime_version=remotejdk_17
build --tool_java_language_version=17
build --tool_java_runtime_version=remotejdk_17

# Protocol buffer options
build --incompatible_enable_proto_toolchain_resolution

# Output options
build --verbose_failures
build --show_timestamps
build --sandbox_debug

# CI-specific settings (when running in CI)
build:ci --color=no
build:ci --curses=no
build:ci --progress_report_interval=5
build:ci --show_progress_rate_limit=5
test:ci --test_output=errors
test:ci --test_verbose_timeout_warnings